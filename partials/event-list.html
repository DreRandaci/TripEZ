<h4 class="archive pull-right" ng-if="trip.archived">ARCHIVE</h4>
<h2>Events in {{trip.name}}</h2>
<h4>Filter By Base:</h4>
<select ng-model="defaultSelectedBaseId" value="All Bases" placeholder="All Bases" ng-change="setDefaultBaseFilterForEventList(defaultSelectedBaseId)">
	<option name="base" value="">All Bases</option>
	<option ng-repeat="base in bases" ng-selected="{{base.baseId}} == {{defaultSelectedBaseId}}" name="basesToFilter" value="{{base.baseId}}">{{base.name}}</option>
</select>
<a ng-href="#!/search/{{trip.id}}" ng-show="!trip.archived">
	<button title="Click to search for Events" class="btn btn-default">Search New Event</button>
</a>
<div class="row row-headings">
	<h2 class="col-sm-4">Event</h2>
	<h2 class="col-sm-3">Start</h2>
	<h2 class="col-sm-3">End</h2>
</div>
<div ng-repeat="event in events | filter: (!!defaultSelectedBaseId || undefined) && {'base' : defaultSelectedBaseId} | orderBy:'start'">
	<div class="row row-div">
		<div class="col-sm-4">
      <h3><a ng-href="#!/event/{{event.eventId}}">{{event.name}}</a></h3>
    </div>
    <h4 class="col-sm-3">{{event.start | date: 'short'}}</h4>
    <h4 class="col-sm-3">{{event.end | date: 'short'}}</h4>
    <div class="pull-right col-sm-2" ng-show="!trip.archived">
      <button title="Delete Event" class="btn btn-sm btn-danger" ng-click="deleteEvent(event.eventId)">
      	<i class="fa fa-trash"></i>
      </button>
    </div>
	</div>
</div>